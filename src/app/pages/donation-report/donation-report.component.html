<div class="page-header">
  <div class="page-title">
    <div class="page-title-icon"><i class="pi pi-file"></i></div>
    <div><h2>Donation Report</h2><p>Live from Firestore</p></div>
  </div>
</div>

<div class="summary-cards">
  <div class="summary-card success"><h4>{{ total | currency : 'INR' : 'symbol' : '1.0-0' }}</h4><p>Total Donation</p></div>
</div>

<div class="card">
  <div class="card-header">
    <h3><i class="pi pi-list"></i> Donation Entries</h3>
    <div class="table-actions">
      <button pButton class="btn btn-secondary" icon="pi pi-file-excel" label="Excel" (click)="exportExcel()"></button>
      <button pButton class="btn btn-secondary" icon="pi pi-file-pdf" label="PDF" (click)="exportPdf()"></button>
      <button pButton class="btn btn-secondary" icon="pi pi-print" label="Print" (click)="printTable()"></button>
    </div>
  </div>
  <div class="card-body table-wrap">
    @if (entries.length === 0) {
      <div class="form-notice">No donation entries available yet.</div>
    } @else {
      <p-table [value]="entries" styleClass="data-table">
        <ng-template pTemplate="header"><tr><th>Devotee</th><th>Type</th><th>Amount</th><th>Date</th><th>Notes</th></tr></ng-template>
        <ng-template pTemplate="body" let-item>
          <tr>
            <td>{{ item.devoteeName }}</td>
            <td>{{ item.donationType }}</td>
            <td>{{ item.amount | currency : 'INR' : 'symbol' : '1.0-0' }}</td>
            <td>{{ item.paymentDate }}</td>
            <td>{{ item.notes }}</td>
          </tr>
        </ng-template>
      </p-table>
    }
  </div>
</div>
